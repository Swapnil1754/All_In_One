{"ast":null,"code":"import { filter, switchMap, distinctUntilChanged, shareReplay, map } from 'rxjs/operators';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, PLATFORM_ID, Inject, Optional, APP_INITIALIZER, NgModule } from '@angular/core';\nimport { Subject, of } from 'rxjs';\nimport { isPlatformBrowser } from '@angular/common';\nvar StorageStrategies;\n(function (StorageStrategies) {\n  StorageStrategies[\"Local\"] = \"local_strategy\";\n  StorageStrategies[\"Session\"] = \"session_strategy\";\n  StorageStrategies[\"InMemory\"] = \"in_memory_strategy\";\n})(StorageStrategies || (StorageStrategies = {}));\nclass CompatHelper {\n  static isStorageAvailable(storage) {\n    let available = true;\n    try {\n      if (typeof storage === 'object') {\n        storage.setItem('test-storage', 'foobar');\n        storage.removeItem('test-storage');\n      } else available = false;\n    } catch (e) {\n      available = false;\n    }\n    return available;\n  }\n}\nfunction noop() {}\nconst DefaultPrefix = 'ngx-webstorage';\nconst DefaultSeparator = '|';\nconst DefaultIsCaseSensitive = false;\nclass StorageKeyManager {\n  static normalize(raw) {\n    raw = StorageKeyManager.isCaseSensitive ? raw : raw.toLowerCase();\n    return `${StorageKeyManager.prefix}${StorageKeyManager.separator}${raw}`;\n  }\n  static isNormalizedKey(key) {\n    return key.indexOf(StorageKeyManager.prefix + StorageKeyManager.separator) === 0;\n  }\n  static setPrefix(prefix) {\n    StorageKeyManager.prefix = prefix;\n  }\n  static setSeparator(separator) {\n    StorageKeyManager.separator = separator;\n  }\n  static setCaseSensitive(enable) {\n    StorageKeyManager.isCaseSensitive = enable;\n  }\n  static consumeConfiguration(config) {\n    if ('prefix' in config) this.setPrefix(config.prefix);\n    if ('separator' in config) this.setSeparator(config.separator);\n    if ('caseSensitive' in config) this.setCaseSensitive(config.caseSensitive);\n  }\n}\nStorageKeyManager.prefix = DefaultPrefix;\nStorageKeyManager.separator = DefaultSeparator;\nStorageKeyManager.isCaseSensitive = DefaultIsCaseSensitive;\nclass SyncStorage {\n  constructor(strategy) {\n    this.strategy = strategy;\n  }\n  retrieve(key) {\n    let value;\n    this.strategy.get(StorageKeyManager.normalize(key)).subscribe(result => value = typeof result === 'undefined' ? null : result);\n    return value;\n  }\n  store(key, value) {\n    this.strategy.set(StorageKeyManager.normalize(key), value).subscribe(noop);\n    return value;\n  }\n  clear(key) {\n    if (key !== undefined) this.strategy.del(StorageKeyManager.normalize(key)).subscribe(noop);else this.strategy.clear().subscribe(noop);\n  }\n  getStrategyName() {\n    return this.strategy.name;\n  }\n  observe(key) {\n    key = StorageKeyManager.normalize(key);\n    return this.strategy.keyChanges.pipe(filter(changed => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({\n      refCount: true,\n      bufferSize: 1\n    }));\n  }\n}\nclass AsyncStorage {\n  constructor(strategy) {\n    this.strategy = strategy;\n  }\n  retrieve(key) {\n    return this.strategy.get(StorageKeyManager.normalize(key)).pipe(map(value => typeof value === 'undefined' ? null : value));\n  }\n  store(key, value) {\n    return this.strategy.set(StorageKeyManager.normalize(key), value);\n  }\n  clear(key) {\n    return key !== undefined ? this.strategy.del(StorageKeyManager.normalize(key)) : this.strategy.clear();\n  }\n  getStrategyName() {\n    return this.strategy.name;\n  }\n  observe(key) {\n    key = StorageKeyManager.normalize(key);\n    return this.strategy.keyChanges.pipe(filter(changed => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({\n      refCount: true,\n      bufferSize: 1\n    }));\n  }\n}\nclass StrategyCacheService {\n  constructor() {\n    this.caches = {};\n  }\n  get(strategyName, key) {\n    return this.getCacheStore(strategyName)[key];\n  }\n  set(strategyName, key, value) {\n    this.getCacheStore(strategyName)[key] = value;\n  }\n  del(strategyName, key) {\n    delete this.getCacheStore(strategyName)[key];\n  }\n  clear(strategyName) {\n    this.caches[strategyName] = {};\n  }\n  getCacheStore(strategyName) {\n    if (strategyName in this.caches) return this.caches[strategyName];\n    return this.caches[strategyName] = {};\n  }\n}\nStrategyCacheService.ɵfac = function StrategyCacheService_Factory(t) {\n  return new (t || StrategyCacheService)();\n};\nStrategyCacheService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: StrategyCacheService,\n  factory: StrategyCacheService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StrategyCacheService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], null, null);\n})();\nconst LOCAL_STORAGE = new InjectionToken('window_local_storage');\nfunction getLocalStorage() {\n  return typeof window !== 'undefined' ? window.localStorage : null;\n}\nconst LocalStorageProvider = {\n  provide: LOCAL_STORAGE,\n  useFactory: getLocalStorage\n};\nconst SESSION_STORAGE = new InjectionToken('window_session_storage');\nfunction getSessionStorage() {\n  return typeof window !== 'undefined' ? window.sessionStorage : null;\n}\nconst SessionStorageProvider = {\n  provide: SESSION_STORAGE,\n  useFactory: getSessionStorage\n};\nclass BaseSyncStorageStrategy {\n  constructor(storage, cache) {\n    this.storage = storage;\n    this.cache = cache;\n    this.keyChanges = new Subject();\n  }\n  get isAvailable() {\n    if (this._isAvailable === undefined) this._isAvailable = CompatHelper.isStorageAvailable(this.storage);\n    return this._isAvailable;\n  }\n  get(key) {\n    let data = this.cache.get(this.name, key);\n    if (data !== undefined) return of(data);\n    try {\n      const item = this.storage.getItem(key);\n      if (item !== null) {\n        data = JSON.parse(item);\n        this.cache.set(this.name, key, data);\n      }\n    } catch (err) {\n      console.warn(err);\n    }\n    return of(data);\n  }\n  set(key, value) {\n    const data = JSON.stringify(value);\n    this.storage.setItem(key, data);\n    this.cache.set(this.name, key, value);\n    this.keyChanges.next(key);\n    return of(value);\n  }\n  del(key) {\n    this.storage.removeItem(key);\n    this.cache.del(this.name, key);\n    this.keyChanges.next(key);\n    return of(null);\n  }\n  clear() {\n    this.storage.clear();\n    this.cache.clear(this.name);\n    this.keyChanges.next(null);\n    return of(null);\n  }\n}\nclass LocalStorageStrategy extends BaseSyncStorageStrategy {\n  constructor(storage, cache, platformId, zone) {\n    super(storage, cache);\n    this.storage = storage;\n    this.cache = cache;\n    this.platformId = platformId;\n    this.zone = zone;\n    this.name = LocalStorageStrategy.strategyName;\n    if (isPlatformBrowser(this.platformId)) this.listenExternalChanges();\n  }\n  listenExternalChanges() {\n    window.addEventListener('storage', event => this.zone.run(() => {\n      if (event.storageArea !== this.storage) return;\n      const key = event.key;\n      if (key !== null) this.cache.del(this.name, event.key);else this.cache.clear(this.name);\n      this.keyChanges.next(key);\n    }));\n  }\n}\nLocalStorageStrategy.strategyName = StorageStrategies.Local;\nLocalStorageStrategy.ɵfac = function LocalStorageStrategy_Factory(t) {\n  return new (t || LocalStorageStrategy)(i0.ɵɵinject(LOCAL_STORAGE), i0.ɵɵinject(StrategyCacheService), i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(i0.NgZone));\n};\nLocalStorageStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LocalStorageStrategy,\n  factory: LocalStorageStrategy.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LocalStorageStrategy, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [LOCAL_STORAGE]\n      }]\n    }, {\n      type: StrategyCacheService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nclass SessionStorageStrategy extends BaseSyncStorageStrategy {\n  constructor(storage, cache, platformId, zone) {\n    super(storage, cache);\n    this.storage = storage;\n    this.cache = cache;\n    this.platformId = platformId;\n    this.zone = zone;\n    this.name = SessionStorageStrategy.strategyName;\n    if (isPlatformBrowser(this.platformId)) this.listenExternalChanges();\n  }\n  listenExternalChanges() {\n    window.addEventListener('storage', event => this.zone.run(() => {\n      if (event.storageArea !== this.storage) return;\n      const key = event.key;\n      if (event.key !== null) this.cache.del(this.name, event.key);else this.cache.clear(this.name);\n      this.keyChanges.next(key);\n    }));\n  }\n}\nSessionStorageStrategy.strategyName = StorageStrategies.Session;\nSessionStorageStrategy.ɵfac = function SessionStorageStrategy_Factory(t) {\n  return new (t || SessionStorageStrategy)(i0.ɵɵinject(SESSION_STORAGE), i0.ɵɵinject(StrategyCacheService), i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(i0.NgZone));\n};\nSessionStorageStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: SessionStorageStrategy,\n  factory: SessionStorageStrategy.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SessionStorageStrategy, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SESSION_STORAGE]\n      }]\n    }, {\n      type: StrategyCacheService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nclass InMemoryStorageStrategy {\n  constructor(cache) {\n    this.cache = cache;\n    this.keyChanges = new Subject();\n    this.isAvailable = true;\n    this.name = InMemoryStorageStrategy.strategyName;\n  }\n  get(key) {\n    return of(this.cache.get(this.name, key));\n  }\n  set(key, value) {\n    this.cache.set(this.name, key, value);\n    this.keyChanges.next(key);\n    return of(value);\n  }\n  del(key) {\n    this.cache.del(this.name, key);\n    this.keyChanges.next(key);\n    return of(null);\n  }\n  clear() {\n    this.cache.clear(this.name);\n    this.keyChanges.next(null);\n    return of(null);\n  }\n}\nInMemoryStorageStrategy.strategyName = StorageStrategies.InMemory;\nInMemoryStorageStrategy.ɵfac = function InMemoryStorageStrategy_Factory(t) {\n  return new (t || InMemoryStorageStrategy)(i0.ɵɵinject(StrategyCacheService));\n};\nInMemoryStorageStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: InMemoryStorageStrategy,\n  factory: InMemoryStorageStrategy.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(InMemoryStorageStrategy, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: StrategyCacheService,\n      decorators: [{\n        type: Inject,\n        args: [StrategyCacheService]\n      }]\n    }];\n  }, null);\n})();\nconst STORAGE_STRATEGIES = new InjectionToken('STORAGE_STRATEGIES');\nconst Strategies = [{\n  provide: STORAGE_STRATEGIES,\n  useClass: InMemoryStorageStrategy,\n  multi: true\n}, {\n  provide: STORAGE_STRATEGIES,\n  useClass: LocalStorageStrategy,\n  multi: true\n}, {\n  provide: STORAGE_STRATEGIES,\n  useClass: SessionStorageStrategy,\n  multi: true\n}];\nconst StorageStrategyStubName = 'stub_strategy';\nclass StorageStrategyStub {\n  constructor(name) {\n    this.keyChanges = new Subject();\n    this.store = {};\n    this._available = true;\n    this.name = name || StorageStrategyStubName;\n  }\n  get isAvailable() {\n    return this._available;\n  }\n  get(key) {\n    return of(this.store[key]);\n  }\n  set(key, value) {\n    this.store[key] = value;\n    this.keyChanges.next(key);\n    return of(value);\n  }\n  del(key) {\n    delete this.store[key];\n    this.keyChanges.next(key);\n    return of(null);\n  }\n  clear() {\n    this.store = {};\n    this.keyChanges.next(null);\n    return of(null);\n  }\n}\nclass StorageStub {\n  constructor() {\n    this.store = {};\n  }\n  get length() {\n    return Object.keys(this.store).length;\n  }\n  clear() {\n    this.store = {};\n  }\n  getItem(key) {\n    return this.store[key] || null;\n  }\n  key(index) {\n    return Object.keys(this.store)[index];\n  }\n  removeItem(key) {\n    delete this.store[key];\n  }\n  setItem(key, value) {\n    this.store[key] = value;\n  }\n}\nconst InvalidStrategyError = 'invalid_strategy';\nclass StrategyIndex {\n  constructor(strategies) {\n    this.strategies = strategies;\n    this.registration$ = new Subject();\n    if (!strategies) strategies = [];\n    this.strategies = strategies.reverse().map((strategy, index, arr) => strategy.name).map((name, index, arr) => arr.indexOf(name) === index ? index : null).filter(index => index !== null).map(index => strategies[index]);\n  }\n  static get(name) {\n    if (!this.isStrategyRegistered(name)) throw Error(InvalidStrategyError);\n    let strategy = this.index[name];\n    if (!strategy.isAvailable) {\n      strategy = this.index[StorageStrategies.InMemory];\n    }\n    return strategy;\n  }\n  static set(name, strategy) {\n    this.index[name] = strategy;\n  }\n  static clear(name) {\n    if (name !== undefined) delete this.index[name];else this.index = {};\n  }\n  static isStrategyRegistered(name) {\n    return name in this.index;\n  }\n  static hasRegistredStrategies() {\n    return Object.keys(this.index).length > 0;\n  }\n  getStrategy(name) {\n    return StrategyIndex.get(name);\n  }\n  indexStrategies() {\n    this.strategies.forEach(strategy => this.register(strategy.name, strategy));\n  }\n  indexStrategy(name, overrideIfExists = false) {\n    if (StrategyIndex.isStrategyRegistered(name) && !overrideIfExists) return StrategyIndex.get(name);\n    const strategy = this.strategies.find(strategy => strategy.name === name);\n    if (!strategy) throw new Error(InvalidStrategyError);\n    this.register(name, strategy, overrideIfExists);\n    return strategy;\n  }\n  register(name, strategy, overrideIfExists = false) {\n    if (!StrategyIndex.isStrategyRegistered(name) || overrideIfExists) {\n      StrategyIndex.set(name, strategy);\n      this.registration$.next(name);\n    }\n  }\n}\nStrategyIndex.index = {};\nStrategyIndex.ɵfac = function StrategyIndex_Factory(t) {\n  return new (t || StrategyIndex)(i0.ɵɵinject(STORAGE_STRATEGIES, 8));\n};\nStrategyIndex.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: StrategyIndex,\n  factory: StrategyIndex.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StrategyIndex, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [STORAGE_STRATEGIES]\n      }]\n    }];\n  }, null);\n})();\nclass LocalStorageService extends SyncStorage {}\nfunction buildService$1(index) {\n  const strategy = index.indexStrategy(StorageStrategies.Local);\n  return new SyncStorage(strategy);\n}\nconst LocalStorageServiceProvider = {\n  provide: LocalStorageService,\n  useFactory: buildService$1,\n  deps: [StrategyIndex]\n};\nclass SessionStorageService extends SyncStorage {}\nfunction buildService(index) {\n  const strategy = index.indexStrategy(StorageStrategies.Session);\n  return new SyncStorage(strategy);\n}\nconst SessionStorageServiceProvider = {\n  provide: SessionStorageService,\n  useFactory: buildService,\n  deps: [StrategyIndex]\n};\nclass DecoratorBuilder {\n  static buildSyncStrategyDecorator(strategyName, prototype, propName, key, defaultValue = null) {\n    const rawKey = key || propName;\n    let storageKey;\n    Object.defineProperty(prototype, propName, {\n      get: function () {\n        let value;\n        StrategyIndex.get(strategyName).get(getKey()).subscribe(result => value = result);\n        return value === undefined ? defaultValue : value;\n      },\n      set: function (value) {\n        StrategyIndex.get(strategyName).set(getKey(), value).subscribe(noop);\n      }\n    });\n    function getKey() {\n      if (storageKey !== undefined) return storageKey;\n      return storageKey = StorageKeyManager.normalize(rawKey);\n    }\n  }\n}\nfunction LocalStorage(key, defaultValue) {\n  return function (prototype, propName) {\n    DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Local, prototype, propName, key, defaultValue);\n  };\n}\nfunction SessionStorage(key, defaultValue) {\n  return function (prototype, propName) {\n    DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Session, prototype, propName, key, defaultValue);\n  };\n}\nconst Services = [LocalStorageServiceProvider, SessionStorageServiceProvider];\nconst LIB_CONFIG = new InjectionToken('ngx_webstorage_config');\nfunction appInit(index) {\n  index.indexStrategies();\n  return () => StrategyIndex.index;\n}\nclass NgxWebstorageModule {\n  constructor(index, config) {\n    if (config) StorageKeyManager.consumeConfiguration(config);else console.error('NgxWebstorage : Possible misconfiguration (The forRoot method usage is mandatory since the 3.0.0)');\n  }\n  static forRoot(config = {}) {\n    return {\n      ngModule: NgxWebstorageModule,\n      providers: [{\n        provide: LIB_CONFIG,\n        useValue: config\n      }, LocalStorageProvider, SessionStorageProvider, ...Services, ...Strategies, {\n        provide: APP_INITIALIZER,\n        useFactory: appInit,\n        deps: [StrategyIndex],\n        multi: true\n      }]\n    };\n  }\n}\nNgxWebstorageModule.ɵfac = function NgxWebstorageModule_Factory(t) {\n  return new (t || NgxWebstorageModule)(i0.ɵɵinject(StrategyIndex), i0.ɵɵinject(LIB_CONFIG, 8));\n};\nNgxWebstorageModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NgxWebstorageModule\n});\nNgxWebstorageModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxWebstorageModule, [{\n    type: NgModule,\n    args: [{}]\n  }], function () {\n    return [{\n      type: StrategyIndex\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [LIB_CONFIG]\n      }]\n    }];\n  }, null);\n})();\n\n/*\n * Public API Surface of ngx-webstorage\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AsyncStorage, CompatHelper, InMemoryStorageStrategy, InvalidStrategyError, LIB_CONFIG, LOCAL_STORAGE, LocalStorage, LocalStorageService, LocalStorageStrategy, NgxWebstorageModule, SESSION_STORAGE, STORAGE_STRATEGIES, SessionStorage, SessionStorageService, SessionStorageStrategy, StorageStrategies, StorageStrategyStub, StorageStrategyStubName, StorageStub, StrategyCacheService, StrategyIndex, SyncStorage, appInit };","map":{"version":3,"names":["filter","switchMap","distinctUntilChanged","shareReplay","map","i0","Injectable","InjectionToken","PLATFORM_ID","Inject","Optional","APP_INITIALIZER","NgModule","Subject","of","isPlatformBrowser","StorageStrategies","CompatHelper","isStorageAvailable","storage","available","setItem","removeItem","e","noop","DefaultPrefix","DefaultSeparator","DefaultIsCaseSensitive","StorageKeyManager","normalize","raw","isCaseSensitive","toLowerCase","prefix","separator","isNormalizedKey","key","indexOf","setPrefix","setSeparator","setCaseSensitive","enable","consumeConfiguration","config","caseSensitive","SyncStorage","constructor","strategy","retrieve","value","get","subscribe","result","store","set","clear","undefined","del","getStrategyName","name","observe","keyChanges","pipe","changed","refCount","bufferSize","AsyncStorage","StrategyCacheService","caches","strategyName","getCacheStore","ɵfac","StrategyCacheService_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","providedIn","ngDevMode","ɵsetClassMetadata","type","args","LOCAL_STORAGE","getLocalStorage","window","localStorage","LocalStorageProvider","provide","useFactory","SESSION_STORAGE","getSessionStorage","sessionStorage","SessionStorageProvider","BaseSyncStorageStrategy","cache","isAvailable","_isAvailable","data","item","getItem","JSON","parse","err","console","warn","stringify","next","LocalStorageStrategy","platformId","zone","listenExternalChanges","addEventListener","event","run","storageArea","Local","LocalStorageStrategy_Factory","ɵɵinject","NgZone","decorators","SessionStorageStrategy","Session","SessionStorageStrategy_Factory","InMemoryStorageStrategy","InMemory","InMemoryStorageStrategy_Factory","STORAGE_STRATEGIES","Strategies","useClass","multi","StorageStrategyStubName","StorageStrategyStub","_available","StorageStub","length","Object","keys","index","InvalidStrategyError","StrategyIndex","strategies","registration$","reverse","arr","isStrategyRegistered","Error","hasRegistredStrategies","getStrategy","indexStrategies","forEach","register","indexStrategy","overrideIfExists","find","StrategyIndex_Factory","LocalStorageService","buildService$1","LocalStorageServiceProvider","deps","SessionStorageService","buildService","SessionStorageServiceProvider","DecoratorBuilder","buildSyncStrategyDecorator","prototype","propName","defaultValue","rawKey","storageKey","defineProperty","getKey","LocalStorage","SessionStorage","Services","LIB_CONFIG","appInit","NgxWebstorageModule","error","forRoot","ngModule","providers","useValue","NgxWebstorageModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector"],"sources":["C:/All_In_One/All_In_One_FrontEnd/All_In_One_FrontEnd/Frontend/Data0/node_modules/ngx-webstorage/fesm2022/ngx-webstorage.mjs"],"sourcesContent":["import { filter, switchMap, distinctUntilChanged, shareReplay, map } from 'rxjs/operators';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, PLATFORM_ID, Inject, Optional, APP_INITIALIZER, NgModule } from '@angular/core';\nimport { Subject, of } from 'rxjs';\nimport { isPlatformBrowser } from '@angular/common';\n\nvar StorageStrategies;\n(function (StorageStrategies) {\n    StorageStrategies[\"Local\"] = \"local_strategy\";\n    StorageStrategies[\"Session\"] = \"session_strategy\";\n    StorageStrategies[\"InMemory\"] = \"in_memory_strategy\";\n})(StorageStrategies || (StorageStrategies = {}));\n\nclass CompatHelper {\n    static isStorageAvailable(storage) {\n        let available = true;\n        try {\n            if (typeof storage === 'object') {\n                storage.setItem('test-storage', 'foobar');\n                storage.removeItem('test-storage');\n            }\n            else\n                available = false;\n        }\n        catch (e) {\n            available = false;\n        }\n        return available;\n    }\n}\n\nfunction noop() { }\n\nconst DefaultPrefix = 'ngx-webstorage';\nconst DefaultSeparator = '|';\nconst DefaultIsCaseSensitive = false;\n\nclass StorageKeyManager {\n    static { this.prefix = DefaultPrefix; }\n    static { this.separator = DefaultSeparator; }\n    static { this.isCaseSensitive = DefaultIsCaseSensitive; }\n    static normalize(raw) {\n        raw = StorageKeyManager.isCaseSensitive ? raw : raw.toLowerCase();\n        return `${StorageKeyManager.prefix}${StorageKeyManager.separator}${raw}`;\n    }\n    static isNormalizedKey(key) {\n        return key.indexOf(StorageKeyManager.prefix + StorageKeyManager.separator) === 0;\n    }\n    static setPrefix(prefix) {\n        StorageKeyManager.prefix = prefix;\n    }\n    static setSeparator(separator) {\n        StorageKeyManager.separator = separator;\n    }\n    static setCaseSensitive(enable) {\n        StorageKeyManager.isCaseSensitive = enable;\n    }\n    static consumeConfiguration(config) {\n        if ('prefix' in config)\n            this.setPrefix(config.prefix);\n        if ('separator' in config)\n            this.setSeparator(config.separator);\n        if ('caseSensitive' in config)\n            this.setCaseSensitive(config.caseSensitive);\n    }\n}\n\nclass SyncStorage {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    retrieve(key) {\n        let value;\n        this.strategy.get(StorageKeyManager.normalize(key)).subscribe((result) => value = typeof result === 'undefined' ? null : result);\n        return value;\n    }\n    store(key, value) {\n        this.strategy.set(StorageKeyManager.normalize(key), value).subscribe(noop);\n        return value;\n    }\n    clear(key) {\n        if (key !== undefined)\n            this.strategy.del(StorageKeyManager.normalize(key)).subscribe(noop);\n        else\n            this.strategy.clear().subscribe(noop);\n    }\n    getStrategyName() { return this.strategy.name; }\n    observe(key) {\n        key = StorageKeyManager.normalize(key);\n        return this.strategy.keyChanges.pipe(filter((changed) => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({ refCount: true, bufferSize: 1 }));\n    }\n}\n\nclass AsyncStorage {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    retrieve(key) {\n        return this.strategy.get(StorageKeyManager.normalize(key)).pipe(map((value) => typeof value === 'undefined' ? null : value));\n    }\n    store(key, value) {\n        return this.strategy.set(StorageKeyManager.normalize(key), value);\n    }\n    clear(key) {\n        return key !== undefined ? this.strategy.del(StorageKeyManager.normalize(key)) : this.strategy.clear();\n    }\n    getStrategyName() { return this.strategy.name; }\n    observe(key) {\n        key = StorageKeyManager.normalize(key);\n        return this.strategy.keyChanges.pipe(filter((changed) => changed === null || changed === key), switchMap(() => this.strategy.get(key)), distinctUntilChanged(), shareReplay({ refCount: true, bufferSize: 1 }));\n    }\n}\n\nclass StrategyCacheService {\n    constructor() {\n        this.caches = {};\n    }\n    get(strategyName, key) {\n        return this.getCacheStore(strategyName)[key];\n    }\n    set(strategyName, key, value) {\n        this.getCacheStore(strategyName)[key] = value;\n    }\n    del(strategyName, key) {\n        delete this.getCacheStore(strategyName)[key];\n    }\n    clear(strategyName) {\n        this.caches[strategyName] = {};\n    }\n    getCacheStore(strategyName) {\n        if (strategyName in this.caches)\n            return this.caches[strategyName];\n        return this.caches[strategyName] = {};\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyCacheService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyCacheService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyCacheService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nconst LOCAL_STORAGE = new InjectionToken('window_local_storage');\nfunction getLocalStorage() {\n    return (typeof window !== 'undefined') ? window.localStorage : null;\n}\nconst LocalStorageProvider = { provide: LOCAL_STORAGE, useFactory: getLocalStorage };\nconst SESSION_STORAGE = new InjectionToken('window_session_storage');\nfunction getSessionStorage() {\n    return (typeof window !== 'undefined') ? window.sessionStorage : null;\n}\nconst SessionStorageProvider = { provide: SESSION_STORAGE, useFactory: getSessionStorage };\n\nclass BaseSyncStorageStrategy {\n    constructor(storage, cache) {\n        this.storage = storage;\n        this.cache = cache;\n        this.keyChanges = new Subject();\n    }\n    get isAvailable() {\n        if (this._isAvailable === undefined)\n            this._isAvailable = CompatHelper.isStorageAvailable(this.storage);\n        return this._isAvailable;\n    }\n    get(key) {\n        let data = this.cache.get(this.name, key);\n        if (data !== undefined)\n            return of(data);\n        try {\n            const item = this.storage.getItem(key);\n            if (item !== null) {\n                data = JSON.parse(item);\n                this.cache.set(this.name, key, data);\n            }\n        }\n        catch (err) {\n            console.warn(err);\n        }\n        return of(data);\n    }\n    set(key, value) {\n        const data = JSON.stringify(value);\n        this.storage.setItem(key, data);\n        this.cache.set(this.name, key, value);\n        this.keyChanges.next(key);\n        return of(value);\n    }\n    del(key) {\n        this.storage.removeItem(key);\n        this.cache.del(this.name, key);\n        this.keyChanges.next(key);\n        return of(null);\n    }\n    clear() {\n        this.storage.clear();\n        this.cache.clear(this.name);\n        this.keyChanges.next(null);\n        return of(null);\n    }\n}\n\nclass LocalStorageStrategy extends BaseSyncStorageStrategy {\n    static { this.strategyName = StorageStrategies.Local; }\n    constructor(storage, cache, platformId, zone) {\n        super(storage, cache);\n        this.storage = storage;\n        this.cache = cache;\n        this.platformId = platformId;\n        this.zone = zone;\n        this.name = LocalStorageStrategy.strategyName;\n        if (isPlatformBrowser(this.platformId))\n            this.listenExternalChanges();\n    }\n    listenExternalChanges() {\n        window.addEventListener('storage', (event) => this.zone.run(() => {\n            if (event.storageArea !== this.storage)\n                return;\n            const key = event.key;\n            if (key !== null)\n                this.cache.del(this.name, event.key);\n            else\n                this.cache.clear(this.name);\n            this.keyChanges.next(key);\n        }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: LocalStorageStrategy, deps: [{ token: LOCAL_STORAGE }, { token: StrategyCacheService }, { token: PLATFORM_ID }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: LocalStorageStrategy }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: LocalStorageStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [LOCAL_STORAGE]\n                }] }, { type: StrategyCacheService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: i0.NgZone }]; } });\n\nclass SessionStorageStrategy extends BaseSyncStorageStrategy {\n    static { this.strategyName = StorageStrategies.Session; }\n    constructor(storage, cache, platformId, zone) {\n        super(storage, cache);\n        this.storage = storage;\n        this.cache = cache;\n        this.platformId = platformId;\n        this.zone = zone;\n        this.name = SessionStorageStrategy.strategyName;\n        if (isPlatformBrowser(this.platformId))\n            this.listenExternalChanges();\n    }\n    listenExternalChanges() {\n        window.addEventListener('storage', (event) => this.zone.run(() => {\n            if (event.storageArea !== this.storage)\n                return;\n            const key = event.key;\n            if (event.key !== null)\n                this.cache.del(this.name, event.key);\n            else\n                this.cache.clear(this.name);\n            this.keyChanges.next(key);\n        }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: SessionStorageStrategy, deps: [{ token: SESSION_STORAGE }, { token: StrategyCacheService }, { token: PLATFORM_ID }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: SessionStorageStrategy }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: SessionStorageStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SESSION_STORAGE]\n                }] }, { type: StrategyCacheService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }, { type: i0.NgZone }]; } });\n\nclass InMemoryStorageStrategy {\n    static { this.strategyName = StorageStrategies.InMemory; }\n    constructor(cache) {\n        this.cache = cache;\n        this.keyChanges = new Subject();\n        this.isAvailable = true;\n        this.name = InMemoryStorageStrategy.strategyName;\n    }\n    get(key) {\n        return of(this.cache.get(this.name, key));\n    }\n    set(key, value) {\n        this.cache.set(this.name, key, value);\n        this.keyChanges.next(key);\n        return of(value);\n    }\n    del(key) {\n        this.cache.del(this.name, key);\n        this.keyChanges.next(key);\n        return of(null);\n    }\n    clear() {\n        this.cache.clear(this.name);\n        this.keyChanges.next(null);\n        return of(null);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: InMemoryStorageStrategy, deps: [{ token: StrategyCacheService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: InMemoryStorageStrategy }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: InMemoryStorageStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: StrategyCacheService, decorators: [{\n                    type: Inject,\n                    args: [StrategyCacheService]\n                }] }]; } });\n\nconst STORAGE_STRATEGIES = new InjectionToken('STORAGE_STRATEGIES');\nconst Strategies = [\n    { provide: STORAGE_STRATEGIES, useClass: InMemoryStorageStrategy, multi: true },\n    { provide: STORAGE_STRATEGIES, useClass: LocalStorageStrategy, multi: true },\n    { provide: STORAGE_STRATEGIES, useClass: SessionStorageStrategy, multi: true },\n];\n\nconst StorageStrategyStubName = 'stub_strategy';\nclass StorageStrategyStub {\n    constructor(name) {\n        this.keyChanges = new Subject();\n        this.store = {};\n        this._available = true;\n        this.name = name || StorageStrategyStubName;\n    }\n    get isAvailable() {\n        return this._available;\n    }\n    get(key) {\n        return of(this.store[key]);\n    }\n    set(key, value) {\n        this.store[key] = value;\n        this.keyChanges.next(key);\n        return of(value);\n    }\n    del(key) {\n        delete this.store[key];\n        this.keyChanges.next(key);\n        return of(null);\n    }\n    clear() {\n        this.store = {};\n        this.keyChanges.next(null);\n        return of(null);\n    }\n}\n\nclass StorageStub {\n    constructor() {\n        this.store = {};\n    }\n    get length() {\n        return Object.keys(this.store).length;\n    }\n    clear() {\n        this.store = {};\n    }\n    getItem(key) {\n        return this.store[key] || null;\n    }\n    key(index) {\n        return Object.keys(this.store)[index];\n    }\n    removeItem(key) {\n        delete this.store[key];\n    }\n    setItem(key, value) {\n        this.store[key] = value;\n    }\n}\n\nconst InvalidStrategyError = 'invalid_strategy';\nclass StrategyIndex {\n    static { this.index = {}; }\n    constructor(strategies) {\n        this.strategies = strategies;\n        this.registration$ = new Subject();\n        if (!strategies)\n            strategies = [];\n        this.strategies = strategies.reverse()\n            .map((strategy, index, arr) => strategy.name)\n            .map((name, index, arr) => arr.indexOf(name) === index ? index : null)\n            .filter((index) => index !== null)\n            .map((index) => strategies[index]);\n    }\n    static get(name) {\n        if (!this.isStrategyRegistered(name))\n            throw Error(InvalidStrategyError);\n        let strategy = this.index[name];\n        if (!strategy.isAvailable) {\n            strategy = this.index[StorageStrategies.InMemory];\n        }\n        return strategy;\n    }\n    static set(name, strategy) {\n        this.index[name] = strategy;\n    }\n    static clear(name) {\n        if (name !== undefined)\n            delete this.index[name];\n        else\n            this.index = {};\n    }\n    static isStrategyRegistered(name) {\n        return name in this.index;\n    }\n    static hasRegistredStrategies() {\n        return Object.keys(this.index).length > 0;\n    }\n    getStrategy(name) {\n        return StrategyIndex.get(name);\n    }\n    indexStrategies() {\n        this.strategies.forEach((strategy) => this.register(strategy.name, strategy));\n    }\n    indexStrategy(name, overrideIfExists = false) {\n        if (StrategyIndex.isStrategyRegistered(name) && !overrideIfExists)\n            return StrategyIndex.get(name);\n        const strategy = this.strategies.find((strategy) => strategy.name === name);\n        if (!strategy)\n            throw new Error(InvalidStrategyError);\n        this.register(name, strategy, overrideIfExists);\n        return strategy;\n    }\n    register(name, strategy, overrideIfExists = false) {\n        if (!StrategyIndex.isStrategyRegistered(name) || overrideIfExists) {\n            StrategyIndex.set(name, strategy);\n            this.registration$.next(name);\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyIndex, deps: [{ token: STORAGE_STRATEGIES, optional: true }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyIndex, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: StrategyIndex, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [STORAGE_STRATEGIES]\n                }] }]; } });\n\nclass LocalStorageService extends SyncStorage {\n}\nfunction buildService$1(index) {\n    const strategy = index.indexStrategy(StorageStrategies.Local);\n    return new SyncStorage(strategy);\n}\nconst LocalStorageServiceProvider = {\n    provide: LocalStorageService,\n    useFactory: buildService$1,\n    deps: [StrategyIndex]\n};\n\nclass SessionStorageService extends SyncStorage {\n}\nfunction buildService(index) {\n    const strategy = index.indexStrategy(StorageStrategies.Session);\n    return new SyncStorage(strategy);\n}\nconst SessionStorageServiceProvider = {\n    provide: SessionStorageService,\n    useFactory: buildService,\n    deps: [StrategyIndex]\n};\n\nclass DecoratorBuilder {\n    static buildSyncStrategyDecorator(strategyName, prototype, propName, key, defaultValue = null) {\n        const rawKey = key || propName;\n        let storageKey;\n        Object.defineProperty(prototype, propName, {\n            get: function () {\n                let value;\n                StrategyIndex.get(strategyName).get(getKey()).subscribe((result) => value = result);\n                return value === undefined ? defaultValue : value;\n            },\n            set: function (value) {\n                StrategyIndex.get(strategyName).set(getKey(), value).subscribe(noop);\n            }\n        });\n        function getKey() {\n            if (storageKey !== undefined)\n                return storageKey;\n            return storageKey = StorageKeyManager.normalize(rawKey);\n        }\n    }\n}\n\nfunction LocalStorage(key, defaultValue) {\n    return function (prototype, propName) {\n        DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Local, prototype, propName, key, defaultValue);\n    };\n}\nfunction SessionStorage(key, defaultValue) {\n    return function (prototype, propName) {\n        DecoratorBuilder.buildSyncStrategyDecorator(StorageStrategies.Session, prototype, propName, key, defaultValue);\n    };\n}\n\nconst Services = [\n    LocalStorageServiceProvider,\n    SessionStorageServiceProvider\n];\n\nconst LIB_CONFIG = new InjectionToken('ngx_webstorage_config');\nfunction appInit(index) {\n    index.indexStrategies();\n    return () => StrategyIndex.index;\n}\nclass NgxWebstorageModule {\n    constructor(index, config) {\n        if (config)\n            StorageKeyManager.consumeConfiguration(config);\n        else\n            console.error('NgxWebstorage : Possible misconfiguration (The forRoot method usage is mandatory since the 3.0.0)');\n    }\n    static forRoot(config = {}) {\n        return {\n            ngModule: NgxWebstorageModule,\n            providers: [\n                {\n                    provide: LIB_CONFIG,\n                    useValue: config,\n                },\n                LocalStorageProvider,\n                SessionStorageProvider,\n                ...Services,\n                ...Strategies,\n                {\n                    provide: APP_INITIALIZER,\n                    useFactory: appInit,\n                    deps: [StrategyIndex],\n                    multi: true\n                }\n            ]\n        };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule, deps: [{ token: StrategyIndex }, { token: LIB_CONFIG, optional: true }], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: NgxWebstorageModule, decorators: [{\n            type: NgModule,\n            args: [{}]\n        }], ctorParameters: function () { return [{ type: StrategyIndex }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [LIB_CONFIG]\n                }] }]; } });\n\n/*\n * Public API Surface of ngx-webstorage\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AsyncStorage, CompatHelper, InMemoryStorageStrategy, InvalidStrategyError, LIB_CONFIG, LOCAL_STORAGE, LocalStorage, LocalStorageService, LocalStorageStrategy, NgxWebstorageModule, SESSION_STORAGE, STORAGE_STRATEGIES, SessionStorage, SessionStorageService, SessionStorageStrategy, StorageStrategies, StorageStrategyStub, StorageStrategyStubName, StorageStub, StrategyCacheService, StrategyIndex, SyncStorage, appInit };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}